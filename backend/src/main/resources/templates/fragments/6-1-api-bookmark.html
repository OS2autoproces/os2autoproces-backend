<!DOCTYPE html>
<html>
<body>
	<h3 id="chapter-6-1" th:fragment="header">6.1 Bookmark API</h3>
	
	<div th:fragment="content">
		<h4>Description</h4>
		<div>
			<table class="table">
				<thead>
					<tr>
						<th>Type</th>
						<th>Status</th>
						<th>Comment</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>Custom Secure API</td>
						<td>Stable</td>
						<td>This API is intended for managing the a users bookmarks, and is custom created, as
						the bookmarks cannot be managed directly from the user object (the user object is an
						externally managed object, and the User API is read-only).
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		
		<h4>Useful operations</h4>
		<p>
			Below are listed the operations available on this API.
		</p>

		<p>
			<div class="card">
				<div class="card-body">
					<strong>Fetch all of the currently logged in users bookmarks</strong>
					<pre class="card-text">GET https://www.os2autoproces.eu/api/bookmarks
(returns a list processes - the output matches the datamodel for Processes ())</pre>
					
					<strong>Add a bookmark for a given process on the currently logged in user</strong>
					<pre class="card-text">PUT https://www.os2autoproces.eu/api/bookmarks/&lt;id&gt;
(the supplied id should match a process - if the user has read-access to the process, a bookmark is added to the user)</pre>
					
					<strong>Remove a bookmark for a given process on the currently logged in user</strong>
					<pre class="card-text">DELETE https://www.os2autoproces.eu/api/bookmarks/&lt;id&gt;
(the supplied id should match a process - if the user has a bookmark for that process, it is removed)</pre>
				</div>
			</div>
		</p>
		
		<h4>Example output</h4>
		<p>
			The output is based on the grid projection of processes, and will contain an array of
			the processes the user currently has bookmarked. As the API is not generated by Spring
			Data REST, the output does not match the output structure of the Process API, but is just
			a plain JSON array with grid-projected processes. Note that any changes to the grid projection
			on processes, will automatically be applied to this API, as it reuses the projection logic. 
		</p>
		
		<p>
			<div class="card">
				<div class="card-body">
					<pre class="card-text">[
  {
    "status": "INPROGRESS",
    "cvr": "87654321",
    "lastUpdated": 1529674565000,
    "phase": "PREANALYSIS",
    "rating": 0,
    "title": "Demo dolor sit amet,",
    "domain": "VALUE3",
    "id": 33,
    "shortDescription": "Lorem ipsum dolor sit amet,"
  },
  {
    "status": "INPROGRESS",
    "cvr": "12345678",
    "lastUpdated": 1529748063000,
    "phase": "PREANALYSIS",
    "rating": 0,
    "title": "Demo dolor sit amet,",
    "domain": "VALUE3",
    "id": 1001,
    "shortDescription": "Lorem ipsum dolor sit amet,"
  }
]</pre>
				</div>
			</div>
		</p>
		
		<h4>Datamodel</h4>
		<p>
			See the datamodel for Process
		</p>
	</div>
</body>
</html>
