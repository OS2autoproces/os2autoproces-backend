<!DOCTYPE html>
<html>
<body>
	<h3 id="chapter-3-2" th:fragment="header">3.2 Maintaining objects</h3>
	
	<div th:fragment="content">
		<p>Spring Data REST is used for generating several of the APIs. When an API is generated, it automatically
		gets all the features that Spring Data REST supports, including a specific pattern for creating and maintaining
		objects</p>
		
		<p>The following standard operations are used for creating, updating and deleting objects through the generated APIs,
		and for all of them, the Content-Type "application/json" is used.
		</p>
		
		<ul>
			<li><strong>POST</strong>. This operation is always used for creating new objects - the operation targets the
			root API endpoint for the given entity (e.g. /api/processes)</li>
			<li><strong>PUT</strong>. This operation can be used to update an existing object, and as input, the full (updated) object
			must be supplied in the body. The input overwrites the existing object in the backend. The operation targets the
			root API endpoint + the id of the entity to be updated (e.g. /api/processes/47)</li>
			<li><strong>PATCH</strong>. This operation can be used to update individual fields on an object. The body contains
			a partial object, and the backend updates the fields supplied in the body, leaving all other fields "as-is".
			The operation targets the same endpoint as the PUT operation.</li>
			<li><strong>DELETE</strong>. This operation can be used to delete a given object, and the operation targets the
			same endpoint as the PUT operation</li>
		</ul>
		
		<p>
			It is also possible to use <a href="http://jsonpatch.com/">JsonPatch</a> style operations against the Spring Data
			REST APIs. This is not something that we (Digital Identity) have a lot of experience with, but it is a way to
			perform multiple PATCH operations in one command, and perform more complex updates than allowed by simple PATCH
			operations.
		</p>
		
		<p>
			For more details on how to use the APIs generated by Spring Data REST, the
			<a href="https://docs.spring.io/spring-data/rest/docs/2.6.13.RELEASE/reference/html/#repository-resources">Spring Documentation</a> can be
			a good place to go - though the APIs follows a pretty standard approach, so if something seems like the
			logical way to use the API, it most likely is.
		</p>
	</div>
</body>
</html>
